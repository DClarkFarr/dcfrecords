webpackJsonp([0],{"/DuA":function(t,e,s){"use strict";var a=s("cDd5"),n=s("UqQp"),r=s("VU/8"),i=r(a.a,n.a,!1,null,null,null);e.a=i.exports},"/EXO":function(t,e){},"/G7i":function(t,e,s){"use strict";var a=s("Dbgo"),n=s("QVrr"),r=s("VU/8"),i=r(a.a,n.a,!1,null,null,null);e.a=i.exports},"/wiq":function(t,e,s){"use strict";var a=s("8qw7"),n=s("i95O"),r=s("VU/8"),i=r(a.a,n.a,!1,null,null,null);e.a=i.exports},"00gF":function(t,e,s){"use strict";function a(t){s("SfE7")}var n=s("ML+S"),r=s("QZky"),i=s("VU/8"),o=a,c=i(n.a,r.a,!1,o,"data-v-8ab4cdce",null);e.a=c.exports},"1GRt":function(t,e){},"1HxI":function(t,e){},"1Kzx":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main-layout",[s("p",[t._v("Page not found")])])},n=[],r={render:a,staticRenderFns:n};e.a=r},"3Qd1":function(t,e,s){"use strict";var a=s("5+WY"),n=s("N5E8"),r=s("6vLR");e.a={data:function(){return{sidebarOpen:!1}},created:function(){var t=this;this.$root.$bus.$on("sidebar.show",function(){t.sidebarOpen=!0}),this.$root.$bus.$on("sidebar.hide",function(){t.sidebarOpen=!1}),this.onUserUpdate()},mixins:[r.a],methods:{logout:function(){Api.deleteCookie("user_guid"),this.$root.redirect("/login")},hideSidebar:function(){this.$root.$bus.$emit("sidebar.hide")}},components:{SidebarSlide:a.a,VLink:n.a}}},"5+WY":function(t,e,s){"use strict";function a(t){s("Z4YK")}var n=s("JNbV"),r=s("VU/8"),i=a,o=r(null,n.a,!1,i,null,null);e.a=o.exports},"6gkm":function(t,e,s){"use strict";var a=s("l7Tq");e.a={components:{MainLayout:a.a}}},"6vLR":function(t,e,s){"use strict";var a=s("zWVS"),n=s("VU/8"),r=n(a.a,null,!1,null,null,null);e.a=r.exports},"8qw7":function(t,e,s){"use strict";e.a={methods:{beforeEnter:function(t){},enter:function(t,e){var s=$(t);s.hasClass("enter")||s.hasClass("leave")||s.css("display","none"),s.hasClass("leave")&&s.stop().css("height","auto"),s.addClass("enter").removeClass("leave").slideDown(250,function(){s.removeClass("enter"),e()})},afterEnter:function(t){},enterCancelled:function(t){},beforeLeave:function(t){},leave:function(t,e){var s=$(t);s.hasClass("enter")&&s.stop().css("height","auto"),s.addClass("leave").removeClass("enter").slideUp(250,function(){s.removeClass("leave"),e()})},afterLeave:function(t){},leaveCancelled:function(t){}}}},"92y/":function(t,e,s){"use strict";var a=s("N5E8"),n=s("jFZp"),r=s("D6n6");e.a={props:["record"],computed:{statusText:function(){var t=this.record.events[0];if(void 0!==t)return"<span class='text-wrap "+Api.statusColor(t.value)+"'><i class='"+Api.contactIcon(t.contact.type)+"'></i> "+Api.contactStatusText(t.value)+"</span>"},status:function(){return Api.statusColor(this.record.status)},editLink:function(){return"/record/edit/"+this.record.id_record},profileLink:function(){return"/record/"+this.record.id_record},lastEvent:function(){var t=this.record.events[0];return t.user=$.extend({},t.user),t},lastUpdated:function(){var t=this.record.events[0];if(void 0!==t)return t.updated_at},lastCreated:function(){var t=this.record.events[0];if(void 0!==t)return t.created_at},createdAt:function(){return Api.timeElapsed(this.record.created_at)}},methods:{go:function(){this.$root.redirect(this.profileLink)}},components:{VLink:a.a,TimeSpan:n.a,UserSpan:r.a}}},"9O6z":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"userspan",class:{"has-mode":t.mode},on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.nextMode(e)}}},[s("small",[t.heading?s("span",[s("i",{staticClass:"fa fa-user"})]):t._e(),t._v(" "),"username"==t.display?s("span",[t._v(" "+t._s(t.user.username))]):t._e(),t._v(" "),"fullname"==t.display?s("span",[t._v(" "+t._s(t.user.first_name)+" "+t._s(t.user.last_name))]):t._e()])])},n=[],r={render:a,staticRenderFns:n};e.a=r},Atdj:function(t,e,s){"use strict";var a=s("N5E8"),n=s("jFZp"),r=s("D6n6"),i=s("/wiq");e.a={data:function(){return{open:!1}},created:function(){},methods:{statusColor:function(t){return Api.statusColor(t)},statusText:function(t){return Api.contactStatusText(t)},typeIcon:function(t){return Api.contactIcon(t)},deleteContact:function(){var t=this;Api.deleteContact(this.contact.id_contact,this.contact.id_record).then(function(e){"success"==e.status?t.$root.$bus.$emit("contact.deleted",t.contact.id_contact):alert(e.message)})},updateStatus:function(t){var e=this;Api.updateContactStatus(this.contact.id_contact,this.contact.id_record,t).then(function(t){"success"==t.status?e.$root.$bus.$emit("contact.status-updated",e.contact.id_contact):alert(t.message)})}},computed:{statuses:function(){return Api.contactStatuses()},status:function(){return Api.statusColor(this.contact.status)},editUrl:function(){return"record/"+this.record.id_record+"/contact/"+this.contact.id_contact}},props:["contact","record"],components:{VLink:a.a,TimeSpan:n.a,UserSpan:r.a,Slidedown:i.a}}},Cm54:function(t,e,s){"use strict";e.a={data:function(){return{display:"",modes:["username","fullname"],heading:!0}},created:function(){var t=this,e=this.mode;e||(e=this.modes[0]),this.display=e,this.$root.$bus.$on("userspan.toggle",function(e){t.display=e})},methods:{nextMode:function(){var t=this.modes.indexOf(this.display);t>=this.modes.length-1?t=0:t+=1,this.display=this.modes[t],this.$root.$bus.$emit("userspan.toggle",this.display)}},props:["user","mode"]}},D6n6:function(t,e,s){"use strict";function a(t){s("/EXO")}var n=s("Cm54"),r=s("9O6z"),i=s("VU/8"),o=a,c=i(n.a,r.a,!1,o,null,null);e.a=c.exports},Dbgo:function(t,e,s){"use strict";e.a={created:function(){this.loading&&(this.status=!0)},watch:{loading:function(t){this.status=t}},props:["loading"],data:function(){return{status:!1,cls:{btn:1,"btn-lg":1,"btn-block":1,"btn-primary":1}}}}},EgO1:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("a",{class:{active:t.isActive},attrs:{href:t.href},on:{click:t.go}},[t._t("default")],2)},n=[],r={render:a,staticRenderFns:n};e.a=r},Fk4A:function(t,e,s){"use strict";var a=s("l7Tq"),n=s("6vLR"),r=s("/G7i");e.a={data:function(){return{loading:!1,form:{first_name:"",last_name:"",email:""}}},created:function(){var t=this;this.getUser(function(e){t.user=e.user,t.setForm()})},methods:{setForm:function(){for(var t in this.form)this.form[t]=this.user[t]},saveUser:function(){var t=this;this.loading=!0,Api.userSave(this.form).then(function(e){t.loading=!1,t.setUser(e.user),t.setForm()}).fail(function(){t.loading=!1})}},mixins:[n.a],components:{MainView:a.a,FormButton:r.a}}},GYSU:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main-view",{attrs:{settings:{topbar:{menu:!1,home:!1}}}},[s("div",{staticClass:"text-center"},[s("h3",[t._v("DCF Records")]),t._v(" "),s("h1",[t._v("Welcome")]),t._v(" "),s("slidedown",[s("div",{directives:[{name:"show",rawName:"v-show",value:t.message.errors.length,expression:"message.errors.length"}],staticClass:"alert alert-danger"},[s("ul",{staticClass:"list-unstyled"},t._l(t.message.errors,function(e){return s("li",[t._v("- "+t._s(e))])}))]),t._v("\n\t\t\t}\n\t\t")]),t._v(" "),s("form",{on:{submit:function(e){e.preventDefault(),t.login(e)}}},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control input-lg",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control input-lg",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-primary btn-lg btn-block"},[t._v("Login")])])]),t._v(" "),s("div",{staticClass:"text-center"},[s("ul",{staticClass:"list-inline list-unstyled"},[s("li",[s("v-link",{staticClass:"btn btn-link",attrs:{href:"/login/forgot"}},[s("i",{staticClass:"fa fa-question"}),t._v(" Forgot Password")])],1),t._v(" "),s("li",[s("v-link",{staticClass:"btn btn-link",attrs:{href:"/login/create"}},[s("i",{staticClass:"fa fa-user"}),t._v(" Create Account")])],1)])])],1)])},n=[],r={render:a,staticRenderFns:n};e.a=r},Gbho:function(t,e,s){"use strict";var a=s("l7Tq"),n=s("/wiq"),r=s("N5E8");e.a={data:function(){return{step:"tab1",fields:{first_name:"",last_name:"",email:"",username:"",password:"",confirm_password:""},message:{type:"danger",errors:{}},usernameIsValid:!1}},create:function(){},watch:{"fields.username":function(t){var e=this;this.clearMessage(),Api.checkUsername(t).then(function(t){"success"==t.status?e.usernameIsValid=!0:(e.usernameIsValid=!1,e.message.errors.push(t.message))})}},methods:{clearMessage:function(){this.message={type:"danger",errors:[]}},tab1:function(){var t=this;this.clearMessage(),this.fields.first_name&&this.fields.last_name||this.message.errors.push("Please include first and last name"),this.fields.email||this.message.errors.push("Please include an email"),this.message.errors.length||Api.checkUsernameAndEmail(this.fields.first_name,this.fields.last_name,this.fields.email).then(function(e){"success"==e.status?(t.step="tab2",t.fields.username=e.username):t.message.errors=e.errors})},tab2:function(){var t=this;this.clearMessage(),Api.createUser(this.fields).then(function(e){"success"==e.status?(t.$root.user=e.user,Api.user_guid=e.user.user_guid,Api.setCookie("user_guid",e.user.user_guid),t.$root.redirect("/")):t.message.errors=e.errors})}},components:{MainView:a.a,Slidedown:n.a,VLink:r.a}}},HXef:function(t,e,s){"use strict";var a=s("dPB5"),n=s("W04P"),r=s("VU/8"),i=r(a.a,n.a,!1,null,null,null);e.a=i.exports},HmQj:function(t,e){},JNbV:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("transition",{attrs:{name:"sidebar-slide"}},[t._t("default")],2)},n=[],r={render:a,staticRenderFns:n};e.a=r},Kpw6:function(t,e){},L1oP:function(t,e,s){"use strict";var a=s("u6xg"),n=s("XFGh"),r=s("VU/8"),i=r(a.a,n.a,!1,null,null,null);e.a=i.exports},LdtJ:function(t,e,s){"use strict";function a(t){s("Tc80")}var n=s("X4Z3"),r=s("xTO5"),i=s("VU/8"),o=a,c=i(n.a,r.a,!1,o,null,null);e.a=c.exports},M6Ht:function(t,e){},"ML+S":function(t,e,s){"use strict";var a=s("N5E8");e.a={data:function(){return{settings:{menu:!0,home:!0}}},created:function(){this.settings=$.extend(this.settings,this.topbar)},methods:{showSidebar:function(){this.$root.$bus.$emit("sidebar.show")}},props:{title:{default:"DCF Records"},topbar:{}},components:{VLink:a.a}}},N5E8:function(t,e,s){"use strict";function a(t){s("fYsq")}var n=s("aSJK"),r=s("EgO1"),i=s("VU/8"),o=a,c=i(n.a,r.a,!1,o,"data-v-09ebe3b8",null);e.a=c.exports},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var e=s("7+uW"),a=s("/ocq"),n=s("eqvY"),r=s("6vLR");e.a.use(a.a);var i=new a.a({mode:"history",base:t,routes:n.a});i.beforeEach(function(t,e,s){document.title=t.meta.title,s()}),e.a.mixin({methods:{global:function(){return{scope:this,getUser:function(){return this.scope.$root.user||{}},getPermissions:function(){return["pending","user","admin"]},canEdit:function(t,e){return this.hasPermission(t)||this.isOwner(e)},hasPermission:function(t){var e=this.getUser(),s=this.getPermissions();if("string"==typeof t&&(t=[t]),void 0!==e&&void 0!==e.permission){for(var a=!1,n=s.indexOf(e.permission),r=s.indexOf("admin"),i=0;i<t.length;i++){n!==s.indexOf(t[i])&&n!==r||(a=!0)}return a}return!1},isOwner:function(t){var e=this.getUser();return!(!e||void 0===e.id_user)&&parseInt(e.id_user)===parseInt(t)}}}}});var o=new e.a({el:"#app",router:i,data:{user:!1,view:!1},mixins:[r.a],created:function(){var t=this;this.$bus=new e.a({}),Api.init(),this.onUserUpdate(),this.authenticateUser(function(e){(null===t.$route.name||void 0!==t.$route.path&&t.$route.path.indexOf("/login")>-1)&&t.redirect("/")})},template:'<div id="#app"><router-view class="view"></router-view></div>',methods:{authenticateUser:function(t){var e=this;Api.user_guid?this.getUser(function(s){e.setUser(s.user),$.isFunction(t)&&t(s)},function(t){e.redirect("/login")}):this.redirect("/login")},redirect:function(t){var e=this.getView(t);this.$router.push(e)},getView:function(t){var e=this.$router.match(t);if(!this.user){var s=this.$router.match({name:"Login"});s!=e&&e.path.indexOf("/login")<0&&(e=s)}var a=null!==e.name?e:this.$router.match({name:"not-found"});return $.extend({},a)}}});window.app=o}.call(e,"/")},OGbk:function(t,e,s){"use strict";var a=s("Gbho"),n=s("edRb"),r=s("VU/8"),i=r(a.a,n.a,!1,null,null,null);e.a=i.exports},P7ry:function(t,e,s){"use strict";var a=s("QXXb"),n=s("GYSU"),r=s("VU/8"),i=r(a.a,n.a,!1,null,null,null);e.a=i.exports},QVrr:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{class:t.cls,attrs:{disabled:t.status}},[t.status?t._e():t._t("default",[t._v("\n\t\tSave\n\t")]),t._v(" "),t.status?t._t("loading",[s("i",{staticClass:"fa fa-refresh fa-spin"}),t._v(" Loading...\n\t")]):t._e()],2)},n=[],r={render:a,staticRenderFns:n};e.a=r},QXXb:function(t,e,s){"use strict";var a=s("woOf"),n=s.n(a),r=s("l7Tq"),i=s("/wiq"),o=s("N5E8");e.a={data:function(){return{username:"",password:"",message:{type:"",errors:[]}}},created:function(){this.clearMessage()},methods:{clearMessage:function(){this.message={type:"",errors:[]}},login:function(){var t=this;this.clearMessage(),Api.userLogin(this.username,this.password).then(function(e){"success"==e.status?(t.$root.user=e.user,Api.user_guid=e.user.user_guid,Api.setCookie("user_guid",e.user.user_guid),t.$root.redirect("/")):t.message=n()({type:"danger",errors:e.errors})})}},components:{MainView:r.a,Slidedown:i.a,VLink:o.a}}},QZky:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"topbar"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.settings.home,expression:"settings.home"}],staticClass:"topbar-link link-left"},[s("v-link",{attrs:{href:"/"}},[s("i",{staticClass:"fa fa-home"})])],1),t._v(" "),t.title?s("div",{staticClass:"topbar-title text-center"},[t._v(t._s(t.title))]):t._e(),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.settings.menu,expression:"settings.menu"}],staticClass:"topbar-link link-right"},[s("a",{attrs:{href:"javascript:void(0)"},on:{click:t.showSidebar}},[s("i",{staticClass:"fa fa-bars"})])])])},n=[],r={render:a,staticRenderFns:n};e.a=r},RCil:function(t,e,s){"use strict";var a=s("o0s6");e.a={data:function(){return{loading:!0,total:0,offset:0,records:[]}},created:function(){this.getRecords()},methods:{getRecords:function(){var t=this;Api.getRecords({show:this.show,owned:this.owned?1:0}).then(function(e){t.total=e.total,t.offest=e.offset,t.records=e.records,t.loading=!1})}},watch:{show:function(t){this.getRecords()},owned:function(){this.getRecords()}},props:["show","owned"],components:{RecordListItem:a.a}}},RrWY:function(t,e,s){"use strict";var a=s("dA2J"),n=s("TQzd"),r=s("VU/8"),i=r(a.a,n.a,!1,null,null,null);e.a=i.exports},SfE7:function(t,e){},TQzd:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main-layout",[s("div",[s("v-link",{attrs:{href:"/record/"+(t.record.id_record?t.record.id_record:t.$route.params.record)}},[s("i",{staticClass:"fa fa-arrow-left"}),t._v(" Back to "+t._s(t.record.name?t.record.name:"Profile"))]),t._v(" "),s("form",{staticClass:"contact-form",attrs:{action:"post"},on:{submit:function(e){e.preventDefault(),t.saveContact()}}},[s("h2",[t._v(t._s(t.title))]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.message.text,expression:"message.text"}],staticClass:"alert",class:{"alert-success":"success"==t.message.type,"alert-danger":"success"!=t.message.type}},[t._v(t._s(t.message.text))]),t._v(" "),s("div",{staticClass:"form-group"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.contact.type,expression:"contact.type"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.contact,"type",e.target.multiple?s:s[0])}}},t._l(t.types,function(e){return s("option",{domProps:{value:e.value}},[t._v(t._s(e.name))])}))]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.contact.label,expression:"contact.label"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Label"},domProps:{value:t.contact.label},on:{input:function(e){e.target.composing||t.$set(t.contact,"label",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.contact.value,expression:"contact.value"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Phone #, FB Page, or Address",required:""},domProps:{value:t.contact.value},on:{input:function(e){e.target.composing||t.$set(t.contact,"value",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.contact.status,expression:"contact.status"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.contact,"status",e.target.multiple?s:s[0])}}},t._l(t.statuses,function(e){return s("option",{domProps:{value:e.value}},[t._v(t._s(e.name))])}))]),t._v(" "),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-primary btn-lg btn-block"},[t._v("Save Contact")])])])],1)])},n=[],r={render:a,staticRenderFns:n};e.a=r},Tc80:function(t,e){},UqQp:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main-view",{attrs:{settings:{topbar:{menu:!1}}}},[s("div",{staticClass:"text-center"},[s("h3",[t._v("Forgot Password")]),t._v(" "),s("h1",[t._v("Request Temporary Password")])]),t._v(" "),s("slidedown",[s("div",{directives:[{name:"show",rawName:"v-show",value:t.message.text.length,expression:"message.text.length"}],staticClass:"alert",class:"alert-"+t.message.type},[t._v(t._s(t.message.text))])]),t._v(" "),s("form",{staticClass:"resset-password-form",on:{submit:function(e){e.preventDefault(),t.resetPassword(e)}}},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control input-lg",attrs:{placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control input-lg",attrs:{type:"email",placeholder:"Account Email Address"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-lg btn-block btn-primary"},[t._v("Request Password Reset")])])]),t._v(" "),s("div",{staticClass:"text-center"},[s("ul",{staticClass:"list-unstyled list-inline"},[s("li",[s("v-link",{attrs:{href:"/login"}},[s("i",{staticClass:"fa fa-arrow-left"}),t._v(" Back to Login")])],1)])])],1)},n=[],r={render:a,staticRenderFns:n};e.a=r},W04P:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main-layout",[s("div",{staticClass:"list-records"},[s("div",{staticClass:"btn-line v-center"},[s("v-link",{staticClass:"btn btn-round btn-red",attrs:{href:"/record/edit"}},[s("i",{staticClass:"fa fa-plus"})]),t._v(" "),s("span",{staticClass:"pull-right"},[s("button",{directives:[{name:"show",rawName:"v-show",value:t.owned,expression:"owned"}],staticClass:"btn btn-link btn-default",on:{click:function(e){t.owned=!1}}},[t._v("Filter: My Posts")]),t._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:!t.owned,expression:"!owned"}],staticClass:"btn btn-link btn-default",on:{click:function(e){t.owned=!0}}},[t._v("Filter: All Posts")])]),t._v(" "),s("span",{staticClass:"pull-right"},[s("button",{directives:[{name:"show",rawName:"v-show",value:"completed"==t.show,expression:"show == 'completed'"}],staticClass:"btn btn-link btn-success",on:{click:function(e){t.toggleShow("active")}}},[t._v("Show: Competed")]),t._v(" "),s("button",{directives:[{name:"show",rawName:"v-show",value:"active"==t.show,expression:"show == 'active'"}],staticClass:"btn btn-link btn-primary",on:{click:function(e){t.toggleShow("completed")}}},[t._v("Show: Active")])])],1),t._v(" "),s("br"),t._v(" "),s("record-list",{attrs:{show:t.show,owned:t.owned}})],1)])},n=[],r={render:a,staticRenderFns:n};e.a=r},X4Z3:function(t,e,s){"use strict";var a=s("l7Tq"),n=s("N5E8"),r=s("jFZp"),i=s("D6n6"),o=s("oJ6q");e.a={data:function(){return{record:{status:"created",contacts:[],user:{}},message:{}}},created:function(){var t=this;this.getRecord(),this.$root.$bus.$on("contact.deleted",function(e){t.getRecord()}),this.$root.$bus.$on("contact.status-updated",function(e){t.getRecord()}),this.$root.$bus.$on("contact.event.deleted",function(e){t.getRecord()})},computed:{status:function(){return Api.statusColor(this.record.status)}},methods:{buildEvent:function(t){return t.user=t.user||{},t},deleteEvent:function(t){var e=this;Api.deleteEvent(t.id_record,t.id_event).then(function(t){"success"==t.status?e.$root.$bus.$emit("contact.event.deleted"):alert(t.message)})},typeIcon:function(t){return Api.contactIcon(t)},statusColor:function(t){return Api.statusColor(t)},statusText:function(t){return Api.contactStatusText(t)},timeAgo:function(t){return Api.timeElapsed(t)},contactUrl:function(t){return"record/"+this.record.id_record+"/contact"+(t?"/"+t:"")},getRecord:function(){var t=this;void 0!==this.$route.params.id&&Api.getRecord(this.$route.params.id).then(function(e){"success"==e.status?t.record=e.record:t.message={type:"failed",text:e.message}})}},components:{MainLayout:a.a,VLink:n.a,RecordContactItem:o.a,TimeSpan:r.a,UserSpan:i.a}}},XFGh:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main-layout",[s("form",{staticClass:"record-form",on:{submit:function(e){e.preventDefault(),t.saveRecord()}}},[s("h3",[t._v(t._s(t.title)+" "),t.record.id_record?s("v-link",{staticClass:"btn btn-link",attrs:{href:t.backUrl}},[s("i",{staticClass:"fa fa-arrow-left"}),t._v(" Back")]):t._e()],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.message.text,expression:"message.text"}],staticClass:"alert",class:{"alert-success":"success"==t.message.type,"alert-danger":"success"!=t.message.type}},[t._v(t._s(t.message.text))]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.record.name,expression:"record.name"}],staticClass:"form-control input-lg",attrs:{placeholder:"Name"},domProps:{value:t.record.name},on:{input:function(e){e.target.composing||t.$set(t.record,"name",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.record.lead,expression:"record.lead"}],staticClass:"form-control input-lg",attrs:{placeholder:"Lead/Info"},domProps:{value:t.record.lead},on:{input:function(e){e.target.composing||t.$set(t.record,"lead",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.record.status,expression:"record.status"}],staticClass:"form-control input-lg",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.record,"status",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"created"}},[t._v("Created")]),t._v(" "),s("option",{attrs:{value:"pending"}},[t._v("Pending")]),t._v(" "),s("option",{attrs:{value:"contacted"}},[t._v("Contacted")]),t._v(" "),s("option",{attrs:{value:"complete"}},[t._v("Complete")])])]),t._v(" "),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-primary btn-lg btn-block"},[t._v("Save Record")])])])])},n=[],r={render:a,staticRenderFns:n};e.a=r},YLKs:function(t,e,s){"use strict";function a(t){s("HmQj")}var n=s("3Qd1"),r=s("fmZ4"),i=s("VU/8"),o=a,c=i(n.a,r.a,!1,o,null,null);e.a=c.exports},Z4YK:function(t,e){},aSJK:function(t,e,s){"use strict";s("eqvY");e.a={props:{href:{type:String,required:!0}},computed:{isActive:function(){return this.href===this.$route.path}},methods:{go:function(t){t.preventDefault(),this.$root.redirect(this.href)}}}},b40G:function(t,e){},cDd5:function(t,e,s){"use strict";var a=s("l7Tq"),n=s("N5E8"),r=s("/wiq");e.a={data:function(){return{username:"",email:"",message:{text:"",type:""}}},methods:{clearMessage:function(){this.message.text="",this.message.type=""},resetPassword:function(){var t=this;Api.resetPassword(this.username,this.email).then(function(e){"success"==e.status?t.message={type:"success",text:"Password Email Sent"}:t.message={type:"danger",text:e.message}})}},components:{MainView:a.a,VLink:n.a,Slidedown:r.a}}},dA2J:function(t,e,s){"use strict";var a=s("l7Tq"),n=s("N5E8");e.a={data:function(){return{record:{contacts:{}},contact:{},types:Api.contactTypes(),statuses:Api.contactStatuses(),message:{}}},computed:{title:function(){return(void 0!==this.contact.id_contact?"Update":"Create")+" Contact"}},created:function(){void 0===this.contact.id_contact&&(this.contact.type=Api.contactTypes()[0].value,this.contact.status=Api.contactStatuses()[0].value),this.getRecord(),void 0!==this.$route.params.id&&this.getContact()},methods:{clearMessage:function(){this.message={}},saveContact:function(){var t=this;this.clearMessage(),Api.saveContact(this.$route.params.id,this.$route.params.record,this.contact).then(function(e){"success"==e.status?t.$root.redirect("/record/"+t.record.id_record):t.message={type:"danger",text:e.message}})},getRecord:function(){var t=this;void 0!==this.$route.params.record&&Api.getRecord(this.$route.params.record).then(function(e){"success"==e.status?t.record=e.record:t.message={type:"failed",text:e.message}})},getContact:function(){var t=this;Api.getContact(this.$route.params.id,this.$route.params.record).then(function(e){"success"==e.status?t.contact=e.contact:t.message={type:"failed",text:e.message}})}},components:{MainLayout:a.a,VLink:n.a}}},dP6Y:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loading?t.loading?s("div",[t._m(1)]):t._e():s("div",{staticClass:"record-list"},[t._l(t.records,function(t){return s("record-list-item",{key:t.id_record,attrs:{record:t}})}),t._v(" "),t.records.length?t._e():s("div",[t._m(0)])],2)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"jumbotron text-center"},[s("h3",[t._v("No Records Yet")]),t._v(" "),s("p",[t._v("Create one to get started")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center text-muted"},[s("i",{staticClass:"fa fa-refresh fa-spin fa-3x"}),t._v(" "),s("br"),t._v("Loading...\n\t")])}],r={render:a,staticRenderFns:n};e.a=r},dPB5:function(t,e,s){"use strict";var a=s("l7Tq"),n=s("pyuH"),r=s("N5E8");e.a={data:function(){return{show:"active",owned:!1}},methods:{toggleShow:function(t){this.show=t}},components:{MainLayout:a.a,RecordList:n.a,VLink:r.a}}},edRb:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main-view",{attrs:{settings:{topbar:{menu:!1}}}},[s("div",{staticClass:"create-account"},[s("slidedown",[s("div",{directives:[{name:"show",rawName:"v-show",value:t.message.errors.length,expression:"message.errors.length"}],staticClass:"alert alert-danger"},[s("ul",{staticClass:"list-unstyled"},t._l(t.message.errors,function(e){return s("li",[t._v("- "+t._s(e))])}))]),t._v("\n\t\t\t}\n\t\t")]),t._v(" "),s("h3",[t._v("Create Account")]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"tab1"==t.step,expression:"step == 'tab1'"}],staticClass:"tab1 text-center"},[s("h1",[t._v("Step 1/2")]),t._v(" "),s("form",{staticClass:"tab1-form",on:{submit:function(e){e.preventDefault(),t.tab1(e)}}},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.first_name,expression:"fields.first_name"}],staticClass:"form-control input-lg",attrs:{type:"text",placeholder:"First Name"},domProps:{value:t.fields.first_name},on:{input:function(e){e.target.composing||t.$set(t.fields,"first_name",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.last_name,expression:"fields.last_name"}],staticClass:"form-control input-lg",attrs:{type:"text",placeholder:"Last Name"},domProps:{value:t.fields.last_name},on:{input:function(e){e.target.composing||t.$set(t.fields,"last_name",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.email,expression:"fields.email"}],staticClass:"form-control input-lg",attrs:{type:"email",placeholder:"Email Address"},domProps:{value:t.fields.email},on:{input:function(e){e.target.composing||t.$set(t.fields,"email",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-lg btn-block btn-primary"},[t._v("Next")])])]),t._v(" "),s("div",{staticClass:"text-center"},[s("ul",{staticClass:"list-unstyled list-inline"},[s("li",[s("v-link",{attrs:{href:"/login"}},[s("i",{staticClass:"fa fa-arrow-left"}),t._v(" Back to Login")])],1)])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"tab2"==t.step,expression:"step == 'tab2'"}],staticClass:"tab2"},[s("h1",[t._v("Step 2/2")]),t._v(" "),s("form",{staticClass:"tab1-form",on:{submit:function(e){e.preventDefault(),t.tab2(e)}}},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"form-group has-feedback",class:{"has-success":t.usernameIsValid,"has-error":!t.usernameIsValid}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.username,expression:"fields.username"}],staticClass:"form-control input-lg",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.fields.username},on:{input:function(e){e.target.composing||t.$set(t.fields,"username",e.target.value)}}}),t._v(" "),s("span",{staticClass:"glyphicon form-control-feedback",class:{"glyphicon-ok":t.usernameIsValid,"glyphicon-remove":!t.usernameIsValid}})])]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.password,expression:"fields.password"}],staticClass:"form-control input-lg",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.fields.password},on:{input:function(e){e.target.composing||t.$set(t.fields,"password",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.fields.confirm_password,expression:"fields.confirm_password"}],staticClass:"form-control input-lg",attrs:{type:"password",placeholder:"Confirm Password"},domProps:{value:t.fields.confirm_password},on:{input:function(e){e.target.composing||t.$set(t.fields,"confirm_password",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("button",{staticClass:"btn btn-lg btn-block btn-primary"},[t._v("Create Account")])])]),t._v(" "),s("div",{staticClass:"text-center"},[s("ul",{staticClass:"list-unstyled list-inline"},[s("li",[s("v-link",{attrs:{href:"/login"}},[s("i",{staticClass:"fa fa-arrow-left"}),t._v(" Back to Login")])],1)])])])],1)])},n=[],r={render:a,staticRenderFns:n};e.a=r},eqvY:function(t,e,s){"use strict";var a=s("HXef"),n=s("L1oP"),r=s("LdtJ"),i=s("RrWY"),o=s("P7ry"),c=s("OGbk"),l=s("/DuA"),u=s("odg4"),d=s("gVLY");e.a=[{path:"/",name:"Home",component:a.a,meta:{title:"Home"}},{path:"/record/edit/:id?",name:"RecordEdit",component:n.a,meta:{title:"Create/Edit Record"}},{path:"/record/:id?",name:"RecordProfile",component:r.a,meta:{title:"Record Profile"}},{path:"/record/:record/contact/:id?",name:"ContactEdit",component:i.a,meta:{title:"Create/Edit Record Contact"}},{path:"/login",name:"Login",component:o.a,meta:{title:"Login to DCF Records"}},{path:"/login/forgot",name:"LoginForgot",component:l.a,meta:{title:"Forgot Password"}},{path:"/login/create",name:"LoginCreate",component:c.a,meta:{title:"Create Account"}},{path:"/my-account",name:"MyAccount",component:d.a,meta:{title:"My Account"}},{path:"/page-not-found",name:"not-found",component:u.a,meta:{title:"Page Not Found"}}]},fYsq:function(t,e){},faX2:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main-view",[s("h3",[t._v("My Account")]),t._v(" "),s("form",{staticClass:"my-account-form",on:{submit:function(e){e.preventDefault(),t.saveUser(e)}}},[s("div",{staticClass:"form-group"},[s("label",[t._v("Username")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control input-lg",attrs:{placeholder:"Username",disabled:""},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",[t._v("First Name")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.first_name,expression:"form.first_name"}],staticClass:"form-control input-lg",attrs:{placeholder:"First Name"},domProps:{value:t.form.first_name},on:{input:function(e){e.target.composing||t.$set(t.form,"first_name",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",[t._v("Last Name")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.last_name,expression:"form.last_name"}],staticClass:"form-control input-lg",attrs:{placeholder:"Last Name"},domProps:{value:t.form.last_name},on:{input:function(e){e.target.composing||t.$set(t.form,"last_name",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",[t._v("Email")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control input-lg",attrs:{placeholder:"Email Address"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group"},[s("form-button",{attrs:{loading:t.loading}},[t._v("Save Account Info")])],1)])])},n=[],r={render:a,staticRenderFns:n};e.a=r},fmZ4:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("sidebar-slide",[s("div",{directives:[{name:"show",rawName:"v-show",value:t.sidebarOpen,expression:"sidebarOpen"}],staticClass:"sidebar"},[s("div",{staticClass:"sidebar-slide"},[s("div",{staticClass:"sidebar-slide-bg",on:{click:t.hideSidebar}}),t._v(" "),s("div",{staticClass:"sidebar-slide-content"},[s("div",{staticClass:"sidebar-header"},[s("div",{staticClass:"username"},[t._v(t._s(t.user.username)+" ("+t._s(t.user.first_name)+" "+t._s(t.user.last_name)+")")]),t._v(" "),s("div",{staticClass:"email"},[t._v(t._s(t.user.email))])]),t._v(" "),s("div",{staticClass:"sidebar-content"},[s("ul",{staticClass:"list-unstyled"},[s("li",[s("v-link",{attrs:{href:"/"}},[s("i",{staticClass:"icon fa fa-fw fa-home"}),t._v(" Home")])],1),t._v(" "),s("li",[s("v-link",{attrs:{href:"/my-account"}},[s("i",{staticClass:"icon fa fa-fw fa-user"}),t._v(" My Account")])],1)])]),t._v(" "),s("div",{staticClass:"sidebar-footer text-center"},[s("a",{staticClass:"btn btn-link btn-primary",attrs:{href:"javascript:void(0)"},on:{click:t.logout}},[s("i",{staticClass:"icon fa fa-fw fa-sign-out"}),t._v(" Sign Out")])])])])])])},n=[],r={render:a,staticRenderFns:n};e.a=r},gVLY:function(t,e,s){"use strict";var a=s("Fk4A"),n=s("faX2"),r=s("VU/8"),i=r(a.a,n.a,!1,null,null,null);e.a=i.exports},hCaR:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"timespan",class:t.mode?"has-mode mode-"+t.mode:"no-mode",on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.nextState(e)}}},[t.showHeading?s("span",{staticClass:"timespan-heading"},[s("i",{staticClass:"fa fa-calendar"})]):t._e(),t._v(" "),0==t.state?s("span",{staticClass:"timespan-date timeago"},[t._v(t._s(t.timeago))]):1==t.state?s("span",{staticClass:"timespan-date datetime"},[t._v(t._s(t.datetime))]):2==t.state?s("span",{staticClass:"timespan-date timesince"},[t._v(t._s(t.timesince))]):t._e()])},n=[],r={render:a,staticRenderFns:n};e.a=r},i95O:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("transition",{attrs:{css:!1},on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter,"enter-cancelled":t.enterCancelled,"before-leave":t.beforeLeave,leave:t.leave,"after-leave":t.afterLeave,"leave-cancelled":t.leaveCancelled}},[t._t("default")],2)},n=[],r={render:a,staticRenderFns:n};e.a=r},jFZp:function(t,e,s){"use strict";function a(t){s("1GRt")}var n=s("s0T6"),r=s("hCaR"),i=s("VU/8"),o=a,c=i(n.a,r.a,!1,o,null,null);e.a=c.exports},kGKh:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[t._t("header",[s("topbar",{attrs:{topbar:t.topbar}})]),t._v(" "),s("div",{attrs:{id:"content"}},[t._t("default")],2),t._v(" "),s("sidebar"),t._v(" "),t._t("footer")],2)},n=[],r={render:a,staticRenderFns:n};e.a=r},l7Tq:function(t,e,s){"use strict";function a(t){s("1HxI")}var n=s("v5w1"),r=s("kGKh"),i=s("VU/8"),o=a,c=i(n.a,r.a,!1,o,"data-v-856d4c68",null);e.a=c.exports},lpCz:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"list-item-wrapper"},[s("div",{staticClass:"list-item",class:t.status},[s("div",{staticClass:"content-left"},[s("div",{staticClass:"icon-wrapper"},[s("i",{staticClass:"icon",class:t.typeIcon(t.contact.type)})])]),t._v(" "),s("div",{staticClass:"content-center pointer",on:{click:function(e){t.open=!t.open}}},[s("p",{staticClass:"text-muted"},[s("small",[t._v("\n\t\t\t\t\t"+t._s(t.contact.label)+" \n\t\t\t\t")])]),t._v(" "),s("h4",[t._v(t._s(t.contact.value))]),t._v(" "),s("p",{staticClass:"text-muted"},[s("small",[s("user-span",{attrs:{user:t.contact.user}}),t._v(" "),s("time-span",{attrs:{date:t.contact.updated_at,created:t.contact.created_at}})],1)])]),t._v(" "),s("div",{staticClass:"content-right"},[s("div",{staticClass:"btn-group"},[t._m(0),t._v(" "),s("ul",{staticClass:"dropdown-menu text-right"},[s("li",{staticClass:"dropdown-header"},[t._v("Update Status")]),t._v(" "),t._l(t.statuses,function(e){return s("li",{class:{active:e.value==t.contact.status}},[s("a",{attrs:{href:"javascript:void(0)"},on:{click:function(s){s.preventDefault(),t.updateStatus(e.value)}}},[s("i",{staticClass:"fa fa-arrow-right"}),t._v(" "+t._s(e.name)+"\n\t\t\t    \t\t")])])}),t._v(" "),t.global().canEdit("admin",t.contact.user.id_user)?s("li",{staticClass:"divider",attrs:{role:"separator"}}):t._e(),t._v(" "),t.global().canEdit("admin",t.contact.user.id_user)?s("li",{staticClass:"dropdown-header"},[t._v("Actions")]):t._e(),t._v(" "),t.global().canEdit("admin",t.contact.user.id_user)?s("li",[s("v-link",{attrs:{href:t.editUrl}},[s("i",{staticClass:"fa fa-pencil"}),t._v(" Edit")])],1):t._e(),t._v(" "),t.global().canEdit("admin",t.contact.user.id_user)?s("li",[s("a",{attrs:{href:"javascript:void(0)"},on:{click:t.deleteContact}},[s("i",{staticClass:"fa fa-times"}),t._v(" Delete")])]):t._e()],2)])])]),t._v(" "),s("slidedown",[s("div",{directives:[{name:"show",rawName:"v-show",value:t.open&&void 0!==t.contact.events&&t.contact.events.length,expression:"open && contact.events !== undefined && contact.events.length"}],staticClass:"list-item-addon"},[s("div",{staticClass:"item-addon-content"},[s("ul",{staticClass:"list-unstyled list-contact-events"},t._l(t.contact.events,function(e){return s("li",{attrs:{"dv-bind:class":"statusColor(event.value)"}},[s("p",{staticClass:"text-muted"},[s("small",[s("time-span",{attrs:{mode:"datetime",date:e.updated_at,heading:!1}}),t._v(" "),e.user?s("user-span",{attrs:{user:e.user}}):t._e()],1)]),t._v(" "),s("p",{staticClass:"text"},[t._v(t._s(t.statusText(e.value)))])])}))])])])],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"btn btn-default btn-link dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[s("span",{staticClass:"caret"})])}],r={render:a,staticRenderFns:n};e.a=r},o0s6:function(t,e,s){"use strict";function a(t){s("Kpw6")}var n=s("92y/"),r=s("sNE0"),i=s("VU/8"),o=a,c=i(n.a,r.a,!1,o,null,null);e.a=c.exports},oJ6q:function(t,e,s){"use strict";function a(t){s("M6Ht")}var n=s("Atdj"),r=s("lpCz"),i=s("VU/8"),o=a,c=i(n.a,r.a,!1,o,null,null);e.a=c.exports},odg4:function(t,e,s){"use strict";var a=s("6gkm"),n=s("1Kzx"),r=s("VU/8"),i=r(a.a,n.a,!1,null,null,null);e.a=i.exports},pyuH:function(t,e,s){"use strict";function a(t){s("b40G")}var n=s("RCil"),r=s("dP6Y"),i=s("VU/8"),o=a,c=i(n.a,r.a,!1,o,null,null);e.a=c.exports},s0T6:function(t,e,s){"use strict";e.a={data:function(){return{showHeading:!0,jsDate:"",local_state:"",states:["timeago","datetime","timesince"]}},created:function(){var t=this;this.jsDate=Api.dateFromUTC(this.date),void 0===this.$root.$bus.timespan_state&&(this.$root.$bus.timespan_state=0),void 0!==this.heading&&(this.showHeading=this.heading),this.local_state=this.$root.$bus.timespan_state,void 0!==this.mode&&(this.local_state=this.states.indexOf(this.mode)),this.$root.$bus.$on("timespan.state",function(e){void 0===t.mode&&(2!=e||t.created||(e=0),t.$root.$bus.timespan_state=e,t.local_state=e)})},props:["date","created","heading","mode"],computed:{state:function(){return this.local_state},timeago:function(){return Api.timeElapsed(this.date)+" Ago"},datetime:function(){return Api.datetime(this.date)},timesince:function(){return this.created?Api.timeElapsed(this.date)+" Since "+Api.time(this.created)+" "+Api.date(this.created):""}},methods:{nextState:function(){if(void 0===this.mode){var t=this.states.length-1,e=this.$root.$bus.timespan_state+1;e>t&&(e=0),this.$root.$bus.$emit("timespan.state",e)}}}}},sNE0:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"record-list-item",class:t.status},[t._m(0),t._v(" "),s("div",{staticClass:"content",on:{click:t.go}},[s("h4",[t._v(t._s(t.record.name))]),t._v(" "),s("p",{staticClass:"text-muted"},[s("span",{domProps:{innerHTML:t._s(t.statusText)}}),t._v(" "),t.lastUpdated?s("span",{},[s("small",[s("user-span",{attrs:{user:t.lastEvent.user}}),t._v(" "),s("time-span",{attrs:{date:t.lastUpdated,created:t.lastCreated}})],1)]):t._e()]),t._v(" "),s("p",{staticClass:"text-muted"},[t.createdAt?s("span",{},[s("small",[s("span",{staticStyle:{display:"inline-block","padding-left":"18px"}},[t._v("Created")]),t._v(" "),s("user-span",{attrs:{user:t.record.user}}),t._v(" "),s("time-span",{attrs:{date:t.record.updated_at,created:t.record.created_at}})],1)]):t._e()])]),t._v(" "),s("div",{staticClass:"buttons"},[t.global().canEdit("admin",t.record.user.id_user)?s("v-link",{staticClass:"btn btn-link btn-default",attrs:{href:t.editLink}},[s("i",{staticClass:"fa fa-pencil"})]):t._e()],1)])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"icon"},[s("div",{staticClass:"circle"})])}],r={render:a,staticRenderFns:n};e.a=r},u6xg:function(t,e,s){"use strict";var a=s("woOf"),n=s.n(a),r=s("l7Tq"),i=s("N5E8");e.a={components:{MainLayout:r.a,VLink:i.a},data:function(){return{record:{status:"created"},message:{}}},created:function(t){this.clearMessage(),this.getRecord()},methods:{clearMessage:function(){this.message=n()(this.defaultMessage())},defaultMessage:function(){return{type:"",text:""}},getRecord:function(){var t=this;void 0!==this.$route.params.id&&Api.getRecord(this.$route.params.id).then(function(e){"success"==e.status?t.record=e.record:t.message={type:"failed",text:e.message}})},saveRecord:function(){var t=this;this.clearMessage(),Api.saveRecord(this.$route.params.id,this.record).then(function(e){"success"==e.status?t.$root.redirect("/record/"+e.record.id_record):t.message={type:"failed",text:e.message}})}},computed:{backUrl:function(){return"/record/"+this.record.id_record},title:function(){return void 0===this.$route.params.id?"Create Record":"Edit Record"}}}},v5w1:function(t,e,s){"use strict";var a=s("00gF"),n=s("YLKs");e.a={data:function(){return{topbar:{}}},created:function(){var t=this.settings;for(var e in t)this[e]=t[e]},props:["settings"],components:{Topbar:a.a,Sidebar:n.a}}},xTO5:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main-layout",[s("div",{directives:[{name:"show",rawName:"v-show",value:t.message.text,expression:"message.text"}],staticClass:"alert",class:{"alert-success":"success"==t.message.type,"alert-danger":"success"!=t.message.type}},[t._v(t._s(t.message.text))]),t._v(" "),s("div",{staticClass:"profile-header",class:t.status},[s("div",{staticClass:"text-center"},[s("div",{staticClass:"circle"},[s("div",{staticClass:"icon"})]),t._v(" "),s("div",[s("h4",{staticClass:"inline relative"},[s("span",[t._v(t._s(t.record.name))]),t._v(" "),t.global().canEdit("admin",t.record.user.id_user)?s("v-link",{staticClass:"btn btn-link edit-link",attrs:{href:"/record/edit/"+t.record.id_record}},[s("i",{staticClass:"fa fa-pencil"})]):t._e()],1)]),t._v(" "),s("p",{staticClass:"text-muted"},[s("small",[t._v("Lead: "+t._s(t.record.lead))])]),t._v(" "),s("p",[s("user-span",{attrs:{user:t.record.user}})],1)])]),t._v(" "),s("div",{staticClass:"profile-tabs",staticStyle:{"margin-top":"25px"}},[s("ul",{staticClass:"nav nav-tabs nav-justified",attrs:{role:"tablist"}},[s("li",{staticClass:"active",attrs:{role:"presentation"}},[s("a",{attrs:{href:"#info","aria-controls":"info",role:"tab","data-toggle":"tab"}},[t._v("Info")])]),t._v(" "),s("li",{attrs:{role:"presentation"}},[s("a",{attrs:{href:"#history","aria-controls":"history",role:"tab","data-toggle":"tab"}},[t._v("History")])])]),t._v(" "),s("div",{staticClass:"tab-content"},[s("div",{staticClass:"tab-pane active",attrs:{role:"tabpanel",id:"info"}},[s("transition-group",{staticClass:"list-items",attrs:{name:"flip-list",tag:"div"}},t._l(t.record.contacts,function(e){return s("record-contact-item",{key:e.id_contact,attrs:{contact:e,record:t.record}})})),t._v(" "),t.record.contacts.length?t._e():s("div",{staticClass:"jumbotron text-center"},[s("h3",[t._v("No Contact Methods")]),t._v(" "),s("p",[t._v("Click below to enter one or more")])]),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"text-center"},[s("v-link",{staticClass:"btn btn-round btn-red",attrs:{href:t.contactUrl()}},[s("i",{staticClass:"fa fa-plus"})])],1)],1),t._v(" "),s("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"history"}},[t.record.events&&t.record.events.length?s("div",t._l(t.record.events,function(e){return s("div",{staticClass:"card",class:t.statusColor(e.value)},[s("div",{staticClass:"card-border-right"}),t._v(" "),s("div",{staticClass:"card-content"},[t.global().canEdit("admin",t.buildEvent(e).user.id_user)?s("button",{staticClass:"pull-right btn btn-link btn-danger",on:{click:function(s){t.deleteEvent(e)}}},[s("i",{staticClass:"fa fa-times"})]):t._e(),t._v(" "),s("p",{staticClass:"text-muted"},[s("small",[s("i",{class:t.typeIcon(e.contact.type)})]),t._v(" "),s("small",[s("time-span",{attrs:{date:e.created_at,heading:!1,mode:"datetime"}}),t._v(" "),e.user&&e.user.id_user?s("user-span",{attrs:{user:e.user}}):t._e()],1)]),t._v(" "),s("h4",[s("span",[t._v(t._s(t.statusText(e.value)))])]),t._v(" "),s("p",{staticClass:"text-muted"},[t._v(t._s(e.contact.value))]),s("p")])])})):s("div",[s("div",{staticClass:"jumbotron text-center"},[s("h3",[t._v("No Events For Record")]),t._v(" "),s("p",[t._v("More will appear as actions are taken")])])])])])])])},n=[],r={render:a,staticRenderFns:n};e.a=r},zWVS:function(t,e,s){"use strict";e.a={data:function(){return{user:{},handle:!1}},methods:{onUserUpdate:function(){var t=this;this.$root.$bus.$on("user.update",function(e){t.user=e}),void 0!==this.$root.user&&(this.user=this.$root.user)},setUser:function(t){this.user=t,this.$root.$bus.$emit("user.update",t)},getUser:function(t,e){Api.getUser().then(function(s){"success"==s.status?$.isFunction(t)&&t(s):$.isFunction()&&e(s)})}}}}},["NHnr"]);
//# sourceMappingURL=app.9d5110f7e18fd3be0a59.js.map